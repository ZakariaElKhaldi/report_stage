\documentclass[12pt, a4paper]{report}

% --- Packages ---
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[french]{babel}
\usepackage{graphicx}
\usepackage{booktabs}
\usepackage{amsmath}
\usepackage{geometry}
\usepackage{array}
\usepackage{enumitem}
\usepackage{hyperref}
\usepackage{xcolor}
\usepackage{titlesec}
\usepackage{lmodern}
\usepackage{microtype}
\usepackage{fancyhdr}
\usepackage{listings}
\usepackage{float}
\usepackage[scaled=0.85]{beramono}
\usepackage{tikz}
\usepackage{afterpage}
\usepackage{tcolorbox}
\usepackage{titletoc}

% --- Font Configuration ---

% --- Color Definitions ---
\definecolor{primary}{RGB}{0,102,204}
\definecolor{secondary}{RGB}{102,102,153}
\definecolor{accent}{RGB}{204,0,0}
\definecolor{darkgray}{RGB}{90,90,90}
\definecolor{lightgray}{RGB}{240,240,240}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{codeblue}{rgb}{0,0,0.9}
\definecolor{codegreen}{rgb}{0.1,0.6,0.1}

% --- Page Geometry ---
\geometry{
  a4paper,
  left=2.5cm,
  right=2.5cm,
  top=2.5cm,
  bottom=2.5cm,
  headheight=15pt
}

% --- Header/Footer Setup ---
\pagestyle{fancy}
\fancyhf{}
\fancyhead[L]{\small Rapport de Stage}
\fancyhead[R]{\small Zakaria el Khaldi}
\fancyfoot[C]{\thepage}
\renewcommand{\headrulewidth}{0.4pt}
\renewcommand{\footrulewidth}{0.4pt}

% --- Title Formatting ---
\titleformat{\chapter}
  {\normalfont\LARGE\bfseries\color{primary}}
  {\thechapter}{1em}{}
\titlespacing*{\chapter}{0pt}{50pt}{40pt}

\titleformat{\section}
  {\normalfont\Large\bfseries\color{primary}}
  {\thesection}{1em}{}
\titleformat{\subsection}
  {\normalfont\large\bfseries\color{secondary}}
  {\thesubsection}{1em}{}
\titleformat{\subsubsection}
  {\normalfont\normalsize\bfseries\color{accent}}
  {\thesubsubsection}{1em}{}

% --- List Formatting ---
\setlist[itemize]{leftmargin=*, nosep}
\setlist[enumerate]{leftmargin=*, nosep}

% --- Hyperlink Setup ---
\hypersetup{
  colorlinks=true,
  linkcolor=primary,
  urlcolor=secondary,
  citecolor=accent
}

% --- Listings Setup for Code ---
\lstdefinestyle{codestyle}{
    basicstyle=\ttfamily\footnotesize,
    numbers=left,
    numberstyle=\tiny\color{codegray},
    stepnumber=1,
    numbersep=5pt,
    backgroundcolor=\color{white!95!black},
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    frame=tb,
    framextopmargin=3pt,
    framexbottommargin=3pt,
    rulecolor=\color{black!30!white},
    tabsize=2,
    captionpos=b,
    breaklines=true,
    breakatwhitespace=false,
    stringstyle=\color{codepurple},
    commentstyle=\color{codegreen},
    keywordstyle=\color{codeblue}
}

% --- Image path configuration ---
% When you upload images to Overleaf, place them in folders named:
% week_1_img, week_2_img, week_3_img, week_4_img
\graphicspath{{week_1_img/}{week_2_img/}{week_3_img/}{week_4_img/}{./}}

% --- Document Information ---
\title{\Huge\bfseries\color{primary} Rapport de Stage \\ 
       \Large Conception et Développement d'une Plateforme E-learning}
\author{\Large Zakaria el Khaldi}
\date{\large Juin 2025}

% --- TOC Formatting ---
\renewcommand{\contentsname}{Sommaire}

% Set up counter for tracking chapters and section numbering
\newcounter{mychapter}
\setcounter{mychapter}{0}

% Fix section numbering to use simple 1, 1.1 format with proper resetting
\makeatletter
\@addtoreset{section}{chapter}
\renewcommand{\thesection}{\arabic{section}}
\renewcommand{\thesubsection}{\thesection.\arabic{subsection}}
\renewcommand{\thesubsubsection}{\thesubsection.\arabic{subsubsection}}
\makeatother

% New TOC formatting
\titlecontents{chapter}
    [0em]                                       % left margin
    {\vspace{1.5em}\large\bfseries}             % above code (font size, weight)
    {\color{primary}}                           % numbered entry format (removed number)
    {\color{primary}}                           % unnumbered entry format
    {\titlerule*[1pc]{.}\contentspage}          % filler and page number
    [\vspace{0.5em}]                            % below code

% Format for section entries
\titlecontents{section}
    [2.3em]                               % left margin
    {\normalfont}                         % above code
    {\contentslabel{2.3em}}              % numbered entry format
    {}                                    % unnumbered entry format
    {\titlerule*[1pc]{.}\contentspage}    % filler and page number

% Format for subsection entries
\titlecontents{subsection}
    [4.6em]                               % left margin
    {\small}                              % above code
    {\contentslabel{2.8em}}              % numbered entry format
    {}                                    % unnumbered entry format
    {\titlerule*[1pc]{.}\contentspage}    % filler and page number

% Format for subsubsection entries
\titlecontents{subsubsection}
    [7.4em]                               % left margin
    {\small\itshape}                      % above code
    {\contentslabel{3.3em}}              % numbered entry format
    {}                                    % unnumbered entry format
    {\titlerule*[1pc]{.}\contentspage}    % filler and page number

% --- Chapter Styling ---
\def\@makechapterhead#1{%
  \vspace*{50\p@}%
  {\parindent \z@ \raggedright \normalfont
    \ifnum \c@secnumdepth >\m@ne
      \if@mainmatter
        \huge\bfseries\color{primary} #1
        \par\nobreak
        \vskip 20\p@
      \fi
    \fi
    \interlinepenalty\@M
    \ifnum \c@secnumdepth >\m@ne
      \if@mainmatter
      \else
        \Huge \bfseries \color{primary} #1
      \fi
    \else
      \Huge \bfseries \color{primary} #1
    \fi
    \par\nobreak
    \vskip 40\p@
    \hrule
    \vskip 40\p@
  }
  \newpage
}

\def\@makeschapterhead#1{%
  \vspace*{50\p@}%
  {\parindent \z@ \raggedright
    \normalfont
    \interlinepenalty\@M
    \Huge \bfseries \color{primary} #1\par\nobreak
    \vskip 40\p@
    \hrule
    \vskip 40\p@
  }
  \newpage
}

% --- Apply fancy style to all chapters automatically ---
\makeatletter
\renewcommand\chapter{\if@openright\cleardoublepage\else\clearpage\fi
                    \thispagestyle{fancy}%
                    \global\@topnum\z@
                    \@afterindentfalse
                    \secdef\@chapter\@schapter}
\makeatother

% --- Prevent duplicate chapter numbers ---
\renewcommand{\thechapter}{\arabic{chapter}}
\makeatletter
\renewcommand{\@seccntformat}[1]{%
  \ifcsname format#1\endcsname
    \csname format#1\endcsname
  \else
    \csname the#1\endcsname\quad
  \fi
}
\makeatother

% Format chapter numbering (hide in document text since it's in the title)
\makeatletter
\newcommand{\formatchapter}{}
\makeatother

\begin{document}

% --- Cover Page ---
\begin{titlepage}
    \centering
    % --- Kingdom and Ministry Text ---
    {\LARGE \textbf{Royaume du Maroc}}\\[0.2cm]
    {\small \textbf{Ministère de l'Éducation Nationale, du Préscolaire et des Sports}}\\[0.2cm]
    \rule{\linewidth}{0.4mm} \\[0.4cm]

    % --- Logos Section ---
    \begin{minipage}{0.45\textwidth}
        \flushleft
        \includegraphics[width=3.5cm]{ministere.jpg}
    \end{minipage}
    \begin{minipage}{0.45\textwidth}
        \flushright
        \includegraphics[width=5cm]{bts_logo.png}
    \end{minipage}\\[1.3cm]

    % --- Enterprise Name (IAAI) ---
    \begin{tcolorbox}[colback=primary!10, colframe=primary, width=8cm, height=2.5cm, halign=center, valign=center]
        {\fontsize{40}{48}\selectfont\textcolor{primary}{\textbf{IAAI}}}
    \end{tcolorbox}
    
    \vspace{1.3cm}
    
    % --- Report Title ---
    \rule{\linewidth}{0.4mm} \\[0.3cm]
    {\Huge \textbf{Rapport de Stage}}\\[0.3cm]
    \rule{\linewidth}{0.4mm} \\[0.7cm]
    
    % --- Project Subject ---
    {\large \textbf{Projet : Conception et Développement d'une Plateforme E-learning}}\\[1.5cm]
    
    % --- Student and Supervisor Information ---
    \begin{minipage}{0.45\textwidth}
        \flushleft
        {\large \textbf{Présenté par :}}\\[0.2cm]
        {\large \textsc{Zakaria el Khaldi}}\\[0.5cm]
        {\large \textbf{Formation :} BTS Développement Digital}\\[0.2cm]
        {\large \textbf{Établissement :} Centre BTS Mohammedia}
    \end{minipage}
    \hfill
    \begin{minipage}{0.45\textwidth}
        \flushright
        {\large \textbf{Sous la supervision de :}}\\[0.2cm]
        {\large Dr. Ayman NAIM}\\[0.2cm]
        {\large Directeur Technique, IAAI}
    \end{minipage}\\[1.5cm]
    
    % --- Internship Period ---
    {\large \textbf{Période de stage :}}\\[0.2cm]
    {\large Du 5 mai 2025 au 5 juin 2025}\\[1.8cm]
    
    % --- Academic Year ---
    {\large \textbf{Année Académique : 2024-2025}}\\
    
\end{titlepage}

% --- Dédicace ---
\chapter*{Dédicace}
\addcontentsline{toc}{chapter}{Dédicace}
\thispagestyle{fancy}

\begin{center}
\vspace*{2cm}
\textit{Je dédie ce modeste travail :}

\vspace{1cm}
\textit{À mes chers parents pour leur amour inconditionnel, leurs sacrifices et leur soutien constant tout au long de mon parcours.}

\vspace{0.5cm}
\textit{À ma famille et mes amis qui m'ont toujours encouragé et motivé.}

\vspace{0.5cm}
\textit{À tous mes professeurs qui ont contribué à ma formation et m'ont transmis leur savoir.}

\vspace{0.5cm}
\textit{À tous ceux qui croient en moi.}
\end{center}

\newpage

% --- Remerciements ---
\chapter*{Remerciements}
\addcontentsline{toc}{chapter}{Remerciements}
\thispagestyle{fancy}

Je tiens à exprimer ma profonde gratitude à toutes les personnes qui ont contribué à la réussite de ce stage et à l'élaboration de ce rapport.

Je remercie tout d'abord Dr. Ayman NAIM, Directeur Technique d'IAAI, pour son accueil au sein de l'entreprise, sa disponibilité et ses précieux conseils qui m'ont guidé tout au long de cette expérience professionnelle.

Mes remerciements s'adressent également à l'ensemble de l'équipe d'IAAI pour leur accueil chaleureux, leur soutien et leur partage de connaissances qui ont rendu cette expérience particulièrement enrichissante.

Je suis également reconnaissant envers mon établissement, le Centre BTS Mohammedia, et mes professeurs pour la qualité de l'enseignement reçu qui m'a permis d'aborder ce stage avec les compétences nécessaires.

Enfin, je remercie ma famille et mes amis pour leur soutien inconditionnel tout au long de mon parcours.

\newpage

% --- Résumé ---
\chapter*{Résumé}
\addcontentsline{toc}{chapter}{Résumé}
\thispagestyle{fancy}

Ce rapport présente les travaux réalisés durant mon stage de quatre semaines au sein de l'entreprise IAAI (Intelligence Artificielle et Apprentissage Interactif), spécialisée dans le développement de solutions éducatives numériques basées sur l'intelligence artificielle.

L'objectif principal du stage était de participer à la conception et au développement de la plateforme e-learning LearnExpert, destinée à l'apprentissage de la programmation et des technologies web. Ce projet m'a permis de mettre en pratique mes compétences en développement web tout en découvrant les méthodologies de travail en entreprise.

Durant ce stage, j'ai contribué à différentes phases du projet : la conception de l'architecture microservices, le développement des interfaces utilisateur, l'implémentation des fonctionnalités interactives pour l'apprentissage de la programmation, et l'optimisation des performances de la plateforme.

Les technologies principalement utilisées comprennent Next.js pour le frontend, Node.js et Express pour le backend, ainsi que PostgreSQL et Supabase pour la gestion des données. L'approche méthodologique adoptée était inspirée de Scrum, avec des cycles de développement courts et des ajustements réguliers en fonction des priorités.

Ce stage a été une expérience formatrice qui m'a permis d'approfondir mes connaissances techniques tout en développant des compétences transversales essentielles dans un environnement professionnel.

\newpage

% --- Abstract ---
\chapter*{Abstract}
\addcontentsline{toc}{chapter}{Abstract}
\thispagestyle{fancy}

This report presents the work carried out during my four-week internship at IAAI (Artificial Intelligence and Interactive Learning), a company specializing in the development of digital educational solutions based on artificial intelligence.

The main objective of the internship was to participate in the design and development of the LearnExpert e-learning platform, dedicated to learning programming and web technologies. This project allowed me to apply my web development skills while discovering professional work methodologies.

During this internship, I contributed to different phases of the project: designing the microservices architecture, developing user interfaces, implementing interactive features for programming learning, and optimizing the platform's performance.

The main technologies used include Next.js for the frontend, Node.js and Express for the backend, as well as PostgreSQL and Supabase for data management. The methodological approach adopted was inspired by Scrum, with short development cycles and regular adjustments based on priorities.

This internship was a formative experience that allowed me to deepen my technical knowledge while developing essential transversal skills in a professional environment.

\newpage

% --- Table of Contents ---
\tableofcontents
\thispagestyle{fancy}
\newpage

% --- List of Figures ---
\renewcommand{\listfigurename}{Liste des figures}
\listoffigures
\thispagestyle{fancy}
\newpage

% --- Include Chapter Files ---
% Each chapter.s content is in a separate file for better organization

% Create unnumbered introduction
\chapter*{Introduction}
\addcontentsline{toc}{chapter}{Introduction}
\thispagestyle{fancy}

Ce rapport présente le travail réalisé lors de mon stage de fin d'études effectué au sein d'IAAI (Intelligence Artificielle et Apprentissage Interactif) du 5 mai au 5 juin 2025. Durant cette période, j'ai participé à la conception et au développement de la plateforme e-learning LearnExpert destinée aux entreprises et aux professionnels individuels.

L'objectif de ce stage était de mettre en pratique les connaissances théoriques acquises durant ma formation et de les approfondir dans un contexte professionnel. Ce projet m'a permis de développer des compétences en développement web, en conception d'architecture logicielle, en gestion de bases de données et en traitement de données.

Ce rapport détaille l'ensemble des travaux réalisés durant les différentes semaines du stage, les méthodologies employées, les difficultés rencontrées et les solutions apportées, ainsi que les résultats obtenus.

% Chapter 1: Presentation of the Company and Internship Framework
\include{chapter_1}

% Chapter 2: Requirements and Specifications
\include{chapter_2}

% Chapter 3: Platform Design and Architecture
\include{chapter_3}

% Chapter 4: Development and Implementation
\include{chapter_4}

% Chapter 5: Deployment and Optimization
% \include{chapter_5}

% Chapter 6: Assessment and Future Perspectives
% \include{chapter_6}

\chapter*{Conclusion et Perspectives}
\addcontentsline{toc}{chapter}{Conclusion et Perspectives}
\thispagestyle{fancy}
\setcounter{section}{0}
\newpage

Ce stage de quatre semaines au sein d'IAAI m'a permis de participer activement au développement de la plateforme e-learning LearnExpert. Cette expérience professionnelle a été particulièrement enrichissante, tant sur le plan technique que personnel.

\section{Bilan du Projet}

Le projet de développement de la plateforme LearnExpert a été mené avec succès jusqu'au stade de prototype fonctionnel. Les principales réalisations comprennent :

\begin{itemize}
  \item \textbf{Conception d'une architecture microservices} adaptée aux besoins spécifiques d'une plateforme e-learning moderne
  \item \textbf{Développement d'une interface utilisateur intuitive et responsive} avec Next.js, offrant une expérience d'apprentissage immersive
  \item \textbf{Implémentation d'un éditeur de code interactif} permettant la pratique en temps réel
  \item \textbf{Mise en place d'un pipeline de traitement de données} utilisant des modèles LLM en parallèle pour optimiser le processus de structuration du contenu
  \item \textbf{Création de fonctionnalités avancées d'authentification} avec plusieurs niveaux d'autorisation et un système sécurisé de gestion des utilisateurs
\end{itemize}

La méthodologie de développement adoptée, inspirée des principes agiles, a permis une progression constante et des ajustements réguliers en fonction des priorités identifiées.

\section{Compétences Acquises}

Ce stage m'a permis de développer un large éventail de compétences :

\begin{itemize}
  \item \textbf{Compétences techniques :}
  \begin{itemize}
    \item Maîtrise approfondie de Next.js et React pour le développement frontend
    \item Expérience pratique avec l'architecture microservices et les API RESTful
    \item Utilisation avancée de MongoDB et Supabase pour la gestion de données
    \item Intégration de modèles LLM pour le traitement de données éducatives
    \item Configuration et optimisation d'environnements de développement modernes
  \end{itemize}
  
  \item \textbf{Compétences méthodologiques :}
  \begin{itemize}
    \item Application des principes de développement agile dans un contexte réel
    \item Utilisation efficace des outils de gestion de versions (GitHub)
    \item Pratiques de documentation et de maintenance de code
    \item Approche structurée de résolution de problèmes complexes
  \end{itemize}
  
  \item \textbf{Compétences transversales :}
  \begin{itemize}
    \item Communication technique et présentation de solutions
    \item Collaboration au sein d'une équipe de développement
    \item Gestion du temps et priorisation des tâches
    \item Adaptation aux changements de spécifications et aux contraintes techniques
  \end{itemize}
\end{itemize}

\section{Défis Rencontrés et Solutions Apportées}

Tout au long du stage, plusieurs défis techniques ont dû être surmontés :

\begin{itemize}
  \item \textbf{Traitement automatisé du contenu éducatif :} Les approches conventionnelles de séparation contenu/code n'atteignant que 80\% de précision, j'ai conçu une solution innovante utilisant des modèles LLM en parallèle, réduisant le temps de traitement de 15 à 7-8 heures tout en atteignant une précision proche de 100\%.
  
  \item \textbf{Intégration de l'éditeur de code interactif :} L'implémentation d'un environnement d'exécution sécurisé pour le code utilisateur a nécessité des solutions créatives pour isoler l'exécution tout en fournissant un feedback immédiat.
  
  \item \textbf{Performance des interfaces riches :} L'optimisation des composants React complexes et la mise en place de stratégies de chargement différé ont permis d'améliorer significativement les temps de réponse de l'interface utilisateur.
\end{itemize}

Ces défis ont été des opportunités d'apprentissage précieuses, renforçant ma capacité à aborder des problèmes techniques complexes de manière méthodique.

\section{Perspectives}

Ce projet ouvre de nombreuses perspectives, tant pour l'entreprise que pour ma carrière professionnelle :

\begin{itemize}
  \item \textbf{Pour IAAI :} La plateforme LearnExpert pourra être enrichie avec des fonctionnalités d'intelligence artificielle pour personnaliser davantage les parcours d'apprentissage, analyser les performances des apprenants et générer du contenu adaptatif.
  
  \item \textbf{Pour ma carrière :} Cette expérience constitue une base solide pour poursuivre mon développement professionnel dans le domaine des technologies éducatives et des architectures web modernes. Elle m'a permis d'identifier des domaines d'approfondissement, notamment l'optimisation des performances frontend et l'architecture de systèmes distribués.
\end{itemize}

\section{Mot de Fin}

Ce stage a représenté une étape déterminante dans mon parcours de formation. Au-delà des compétences techniques acquises, j'ai pu découvrir la réalité du développement logiciel en entreprise et confirmer mon intérêt pour ce domaine professionnel.

Je suis particulièrement reconnaissant envers l'équipe d'IAAI pour cette opportunité d'apprentissage, pour leur confiance et pour le partage de leurs connaissances. Cette expérience m'a permis de consolider mes acquis académiques tout en développant une vision plus concrète des défis et opportunités du secteur du développement web et des technologies éducatives.

Les enseignements tirés de ce stage constitueront sans aucun doute des atouts précieux pour ma future carrière professionnelle.

\appendix
\chapter{Annexes}
\thispagestyle{fancy}
[Diagrammes UML, exemples de code, captures d'écran de l'interface]

\end{document}
